# [2장] 도커엔진 

> 도커 엔진에서 사용하는 기본 단위는 <u>이미지</u>와 <u>컨테이너</u>이며, 이 두 가지가 도커 엔진의 핵심입니다. 

### | 목차

###### - 2.1 도커 이미지와 컨테이너

###### - 2.2 도커 컨테이너 다루기

###### - 2.3 도커 이미지

___

### | 2.1 도커 이미지와 컨테이너

> <u>**이미지는 컨테이너를 생성할 때 필요한 요소**</u>이며, 가상 머신을 생성할 때 사용하는 *iso* 파일과 비슷한 개념입니다. 이미지는 여러 개의 계층으로 된 바이너리 파일로 존재하고, <u>**컨테이너를 생성하고 실행할 때 읽기 전용으로 사용**</u>됩니다. 이미지는 도커 명령어로 내려 받을 수 (*pull*) 있으므로 별도로 설치할 필요는 없습니다. 
>
> 

##### | 이미지 이름 구성

`저장소이름(생략가능)/이미지이름(생략불가능):태그(생략가능, 생략하는 경우 최신버전)`

`ubuntu:20.04`

> 이미지로 컨테이너를 생성하면(*run*) <u>**해당 이미지의 목적에 맞는 파일이 들어 있는 파일시스템과 격리된 시스템 자원 및 네트워크를 사용할 수 있는 독립된 공간**</u>이 생성되고, 이것이 바로 **도커 컨테이너**가 됩니다. 

이미지로부터 컨테이너를 생성할 수 있는 구조이므로, <u>**도커 이미지와 컨테이너의 관계는 1:N 관계**</u>이다.

> 컨테이너는 이미지를 읽기 전용으로 사용하되 이미지에서 변경된 사항만 컨테이너 계층에 저장하므로 <u>컨테이너에서 무엇을 하든지 원래 이미지는 영향을 받지 않습니다</u>. 
>
> ###### \# 이미지 변경 사항 → 컨테이너 

> 예를 들어, 우분투 도커 이미지로 두 개의 컨테이너를 생성한 뒤 A 컨테이너에 MySQL을, B 컨테이너에 아파치 웹 서버를 설치해도 각 컨테이너는 서로 영향을 주지 않을뿐더러 호스트에도 아무런 영향을 주지 않습니다. 

### | 2.2 도커 컨테이너 다루기 

##### | 컨테이너 생성 

###### \# run vs create 

컨테이너를 생성하는 방법은 크게 두 가지가 있다. `run`과 `create`을 통해서 컨테이너를 생성할 수 있는데, 가장 큰 차이는 `run`을 통해 컨테이너를 생성하는 경우 <u>컨테이너 생성 + 실행</u> 개념이지만 `create`은 <u>생성</u>까지만 처리하여 생성 이후 `start, attach`를 실행하지 않는다. 

##### | 컨테이너 목록 확인 

\# `docker ps (-a)` : List Containers

컨테이너의 목록을 확인하기 전에 컨테이너의 <u>상태</u>에 대해서 먼저 알아보자.

![image-20210824121937410](/Users/youn/Library/Application Support/typora-user-images/image-20210824121937410.png)

https://racoonlotty.tistory.com/entry/Docker-%EC%BB%A8%ED%85%8C%EC%9D%B4%EB%84%88-%EB%9D%BC%EC%9D%B4%ED%94%84-%EC%82%AC%EC%9D%B4%ED%81%B4?category=730303

##### | 컨테이너 삭제 

##### | 컨테이너 외부 노출 

##### | 컨테이너 애플리케이션 구축

##### | 도커 볼륨 

##### | 도커 네트워크 

