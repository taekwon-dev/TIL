# Dockerfile

> 개발한 애플리케시션을 컨테이너화할 때 가장 먼저 생각나는 방법은 아래와 같습니다.
>
> 1. 아무것도 존재하지 않는 이미지로 컨테이너 생성 
> 2. 애플리케이션을 위한 환경 설치하고 소스코드 등을 복사해 잘 동작하는 지 확인 
> 3. 컨테이너를 이미지로 커밋(commit)



<그림 1 컨테이너로 이미지를 생성하는 방법>



<그림 2 Dockerfile로 이미지를 생성하는 방법>



> 도커는 <그림 2>와 같이 이미지를 생성하는 일련의 과정을 손쉽게 기록하고 수행할 수 있는 빌드(build) 명령어를 제공합니다. 완성된 이미지를 생성하기 위해 컨테이너에 설치해야 하는 패키지, 추가해야 하는 소스코드, 실행해야 하는 명령어와 <u>셸 스크립트</u> 등을 하나의 파일에 기록해두면 도커는 이 파일을 읽어 컨테이너에서 작업을 수행한 뒤 **이미지**로 만들어냅니다. 
>
> 이러한 작업을 기록한 파일의 이름을 Dockerfile이라 하며, 빌드 명령어는 <u>Dockerfile을 읽어 이미지를 생성</u>합니다. Dockerfile을 사용하면 직접 컨테이너를 생성하고 이미지로 커밋해야 하는 번거로움을 덜 수 있을뿐더러 <u>깃(git)과 같은 개발 도구를 통해 애플리케이션의 빌드 및 배포를 자동화</u>할 수 있습니다. 



> 생성한 이미지를 Docker Hub 또는 사설 레지스트리 등을 통해 배포할 때 이미지 자체를 배포하는 대신 이미지를 생성하는 방법을 기록해 놓은 Dockerfile을 배포할 수도 있습니다. 배포되는 이미지를 신뢰할 수 없거나 직접 이미지를 생성해서 사용하고 싶다면 도커 허브에 올려져 있는 Dockerfile로 빌드하는 것도 하나의 방법입니다. 

