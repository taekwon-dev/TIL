# Vol2_3장_스프링_웹기술_MVC

> 스프링은 의도적으로 서블릿 웹 애플리케이션의 컨텍스트를 두 가지로 분리해놓았다. 웹 기술에서 완전히 독립적인 비즈니스 서비스 계층과 데이터 액세스 계층을 담은 `루트 애플리케이션 컨텍스트`와, 스프링 웹 기술을 기반으로 동작하는 웹 관련 빈을 담은 `서블릿 애플리케이션 컨텍스트` 다. 이렇게 스프링 컨텍스트를 두 가지로 분리해둔 이유는 스프링 웹 서블릿 컨텍스트를 통째로 다른 기술로 대체할 수 있도록 하기 위해서다.

🐢

3장에서 가장 핵심적인 부분이라고 생각한다.  아래 [그림 1]에서 위의 내용을 시각화한 자료를 확인할 수 있다. 웹 서블릿 컨텍스트를 통째로 다른 기술로 대체 할 수 있도록 하는 구조는 잦은 기술 변화가 있는 웹 계층을 고려 했을 때 확장 측면에서 매우 유리한 구조가 될 것이다. 또한 `확장`의 키워드에서 웹 계층과 여타 계층을 분리 함으로써 웹 서블릿 컨텍스트가 다른 기술로 대체 됐을 때도 아무 문제 없이 만들 수 있다.

![image](https://user-images.githubusercontent.com/70354365/165076230-370f316a-ab45-43bd-97ca-1ae6b4d6fd6b.png)
[그림 1. Web MVC framework](https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html)


> 스프링 서블릿 / 스프링 MV
>
> 스프링이 직접 제공하는 서블릿 기반의 MVC 프레임워크다. 스프링 서블릿 또는 스프링 MVC라고 부른다. 프론트 컨트롤러 역할을 하는 `DispatcherServlet`을 핵심 엔진으로 사용한다. 스프링 서블릿은 다양한 종류의 컨트롤러를 동시에 사용할 수 있게 설계되어 있다. 스프링답게 MVC 프레임워크의 많은 기능을 자유롭게 확장할 수 있다.
> …
> 스프링 서블릿의 모든 컴포넌트는 스프링의 서블릿 애플리케이션 컨텍스트의 빈으로 등록되어 동작한다. 따라서 간단히 루트 컨텍스트에 존재하는 서비스 계층의 빈을 사용할 수 있다.

🐢

`프론트 컨트롤러`  이름에서 직관적으로 공통적인 기능을 처리할 수 있음을 느꼈다. 또한 `dispatcher` 단어 뜻에서 알 수 있듯이 실제 요청을 처리하는 곳으로 요청을 위임하는 역할을 할 것으로 추론할 수 있다.

스프링답게 MVC 프레임워크의 많은 기능을 자유롭게 확장하는 것과 스프링 서블릿의 모든 컴포넌트가 스프링 서블릿 애플리케이션 컨텍스트의 빈으로 등록된 점과 어떤 관계가 있을까?

OOP 설계 원칙을 고려 했을 때 확장 가능한 설계를 위해서는 `역할`에 의존해야 한다. 구현체에 의존하게 되면 확장 과정에서 클라이언트 코드 변경이 불가피하기 때문이다. (OCP, DIP) 이 때 구성영역 (Configuration)을 통해서 클라이언트가 의존하는 구현체를 설정 함으로써 유연한 확장을 도모할 수 있다. 스프링 서브릿 애플리케이션 컨텍스트에 등록된 빈(구성 영역)을 통해서 스프링 MVC에서 제공하는 기능을 자유롭게 확장할 수 있는 것으로 이해할 수 있다.

![image](https://user-images.githubusercontent.com/70354365/165076293-272b43e2-fef6-4b85-8458-30b480d692c0.png)
[그림 2. Web MVC framework](https://docs.spring.io/spring-framework/docs/3.2.x/spring-framework-reference/html/mvc.html)
 


