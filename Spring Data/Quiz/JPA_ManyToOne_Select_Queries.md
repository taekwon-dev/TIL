### "왜 생각보다 select 쿼리가 더 많이 생기지?" - whiteship

https://www.youtube.com/watch?v=4aMYNNBnWXo
https://www.youtube.com/watch?v=MpXdx8-qWzo

JPA ManyToOne 

테스트 코드 / 컨트롤러에서 쿼리가 서로 다르게 발생하는 것을 제한하고 이 현상을 분석하는 퀴즈 

테스트 코드에서 @DataJpaTest가 설정된 @Test 코드에서 트랜잭션을 인식하고, 해당 트랜잭션에서 영속성 컨텍스트가 어떻게 관리되는지를 이해는 것이 가장 중요한 포인트였다. 
사실 이 문제를 면접장에서 들었을 때, @DataJpaTest에 @Transactional 어노테이션이 있는지 몰라도, 이 문제를 접근하는 과정에서 트랜잭션 범위가 어떻게 되는지를 확인하는 질문을 통해 힌트를 얻는 것이 가장 주요한 부분인 것 같다. 
트랜잭션 키워드를 전혀 생각하지 못했다면, 하이버네이트에서 영속성 컨텍스트의 1차 캐시를 활용하는 로직을 전혀 연결짓지 못해서 아는 내용이어도 대답하지 못했을 가능성이 놓거나 논리가 부족한 답변이 됐을 것 같다. 

